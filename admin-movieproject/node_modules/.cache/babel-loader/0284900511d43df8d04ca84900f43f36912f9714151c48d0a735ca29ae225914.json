{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lester Salonga\\\\Desktop\\\\movieproject\\\\admin-movieproject\\\\src\\\\pages\\\\Main\\\\Movie\\\\Form\\\\Form.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { useNavigate, useParams, Outlet, useOutlet } from 'react-router-dom'; // Add Outlet here\nimport { AuthContext } from '../../../../utils/context/AuthToken';\nimport './Form.css';\nimport { useDebounce } from '../../../../utils/hooks/useDebounce';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Form = () => {\n  _s();\n  // User token and information\n  const {\n    auth\n  } = useContext(AuthContext);\n  const [query, setQuery] = useState('');\n  const [searchedMovieList, setSearchedMovieList] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(null); // Fixed initialization to null\n\n  const titleRef = useRef();\n  const overviewRef = useRef();\n  const popularityRef = useRef();\n  const release_dateRef = useRef();\n  const vote_averageRef = useRef();\n  const posterRef = useRef();\n  const is_featuredRef = useRef();\n  const [status, setStatus] = useState('idle');\n  //   const [movie,setMovie] = useState(undefined); // movie missing\n  let {\n    movieId\n  } = useParams();\n  const userInputDebounce = useDebounce({\n    selectedMovie\n  }, 2000);\n  const [debounceState, setDebounceState] = useState(false);\n  const [isFieldsDirty, setIsFieldsDirty] = useState(false);\n  const handleOnChange = e => {\n    setDebounceState(false);\n    setIsFieldsDirty(true);\n    const {\n      name,\n      value\n    } = e.target;\n    setSelectedMovie(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  // Debounce\n  useEffect(() => {\n    setDebounceState(true);\n  }, [userInputDebounce]);\n  const [overlayVisible, setOverlayVisible] = useState(false);\n  const overlayRef = useRef(null);\n  const debounceTimer = useRef(null);\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n\n  // Alert box\n  const [alertMessage, setAlertMessage] = useState('');\n  const [isError, setIsError] = useState(false);\n  const navigate = useNavigate();\n  const outletContent = useOutlet();\n\n  // Debounce function\n  const debounce = (func, delay) => {\n    return (...args) => {\n      if (debounceTimer.current) {\n        clearTimeout(debounceTimer.current);\n      }\n      debounceTimer.current = setTimeout(() => {\n        func(...args);\n      }, delay);\n    };\n  };\n\n  // Search for movie\n  const handleSearch = useCallback((value, page = 1) => {\n    if (value.trim() === '') {\n      setSearchedMovieList([]);\n      setOverlayVisible(false);\n      return;\n    }\n    axios({\n      method: 'get',\n      url: `https://api.themoviedb.org/3/search/movie?query=${value}&include_adult=false&language=en-US&page=${page}`,\n      headers: {\n        Accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmZjcwNmYyZDQwMDA0ZTUwYzhmOGUwZDg4MWNjMzMzMCIsIm5iZiI6MTczMjQ0MTE3NS41MTcwNjI3LCJzdWIiOiI2NzEzMzc3MjY1MDI0OGI5ZGI2MWQ3MzgiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.3YXaI8G0Zhq_JUCBQ2rd8F1R62ePiRNlV-Qom94OzgM' // Replace with your actual API key\n      }\n    }).then(response => {\n      setSearchedMovieList(response.data.results);\n      setTotalPages(response.data.total_pages);\n      if (response.data.results.length > 0) {\n        setOverlayVisible(true);\n      } else {\n        setOverlayVisible(false);\n      }\n      console.log(response.data.results);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  }, []);\n\n  // Debounced search text\n  const debouncedSearch = useRef(debounce(handleSearch, 300)).current;\n  const handleInputChange = event => {\n    const value = event.target.value;\n    setQuery(value);\n    debouncedSearch(value);\n    setCurrentPage(1);\n  };\n\n  // Handle select movie\n  const handleSelectMovie = movie => {\n    setSelectedMovie(movie);\n    setOverlayVisible(false);\n  };\n\n  // Handle click outside of overlay\n  const handleClickOutside = event => {\n    if (overlayRef.current && !overlayRef.current.contains(event.target)) {\n      setOverlayVisible(false);\n    }\n  };\n\n  // Handle Save movie\n  const handleSave = () => {\n    setStatus('loading');\n    if (!selectedMovie) {\n      alert('Please search and select a movie.');\n    } else {\n      const data = {\n        tmdbId: selectedMovie.id,\n        title: selectedMovie.title,\n        overview: selectedMovie.overview,\n        popularity: selectedMovie.popularity,\n        releaseDate: selectedMovie.release_date,\n        voteAverage: selectedMovie.vote_average,\n        backdropPath: `https://image.tmdb.org/t/p/original/${selectedMovie.backdrop_path}`,\n        posterPath: `https://image.tmdb.org/t/p/original/${selectedMovie.poster_path}`,\n        isFeatured: selectedMovie.is_featured\n      };\n      axios({\n        method: 'post',\n        url: '/movies',\n        data: data,\n        headers: {\n          Authorization: `Bearer ${auth.accessToken}`\n        }\n      }).then(saveResponse => {\n        console.log(saveResponse);\n        setIsError(false);\n        setAlertMessage(saveResponse.data.message);\n        setTimeout(() => {\n          setAlertMessage('');\n          navigate('/main/movies');\n        }, 3000);\n      }).catch(error => {\n        setIsError(true);\n        setAlertMessage(\"An error has occurred! Please try again later!\");\n        setTimeout(() => {\n          setAlertMessage('');\n        }, 3000);\n      });\n    }\n  };\n\n  // Handle Update movie\n  const handleUpdate = id => {\n    setStatus('loading');\n    if (!selectedMovie) {\n      return;\n    } else {\n      const data = {\n        tmdbId: selectedMovie.id,\n        title: selectedMovie.title,\n        overview: selectedMovie.overview,\n        popularity: selectedMovie.popularity,\n        releaseDate: selectedMovie.release_date,\n        voteAverage: selectedMovie.vote_average,\n        backdropPath: `https://image.tmdb.org/t/p/original/${selectedMovie.backdrop_path}`,\n        posterPath: `https://image.tmdb.org/t/p/original/${selectedMovie.poster_path}`,\n        isFeatured: selectedMovie.is_featured\n      };\n      axios({\n        method: 'patch',\n        url: `/movies/${id}`,\n        data: data,\n        headers: {\n          Authorization: `Bearer ${auth.accessToken}`\n        }\n      }).then(saveResponse => {\n        setIsError(false);\n        setAlertMessage(saveResponse.data.message);\n        setTimeout(() => {\n          setAlertMessage('');\n          navigate('/main/movies');\n        }, 3000);\n      }).catch(error => console.log(error));\n    }\n  };\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n    if (movieId) {\n      axios.get(`/movies/${movieId}`).then(response => {\n        // setMovie(response.data);\n\n        let temp = 0;\n        if (response.data.isFeatured === true) {\n          temp = 1;\n        }\n        const tempData = {\n          id: response.data.tmdbId,\n          tmdbId: response.data.id,\n          title: response.data.title,\n          overview: response.data.overview,\n          popularity: response.data.popularity,\n          poster_path: response.data.posterPath,\n          release_date: response.data.releaseDate,\n          vote_average: response.data.voteAverage,\n          is_featured: temp\n        };\n        setSelectedMovie(tempData);\n      }).catch(error => console.error(\"Error fetching movie data: \", error));\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [movieId]);\n  const path = window.location.pathname;\n  const parts = path.split('/');\n  const tab = parts[5] || 'descriptionupdate';\n  const [selectedTab, setSelectedTab] = useState('');\n  useEffect(() => {\n    switch (tab) {\n      case 'cast-and-crews':\n        setSelectedTab('casts');\n        break;\n      case 'videos':\n        setSelectedTab('videos');\n        break;\n      case 'photos':\n        setSelectedTab('photos');\n        break;\n      default:\n        setSelectedTab('description');\n      //default tab\n    }\n  }, [tab]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-header\",\n      children: [alertMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `alert-box ${isError ? 'error' : 'success'}`,\n        children: alertMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tabs-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [movieId ? 'Edit' : 'Create', \" Movie\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tabs-container-group\",\n            children: [movieId === undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: handleInputChange,\n                placeholder: \"Search movie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fas fa-search\",\n                type: \"button\",\n                onClick: () => handleSearch(query)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `searched-movie ${overlayVisible ? 'show' : ''}`,\n                ref: overlayRef,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"movie-list\",\n                    children: searchedMovieList.map(movie => /*#__PURE__*/_jsxDEV(\"p\", {\n                      onClick: () => handleSelectMovie(movie),\n                      children: movie.original_title\n                    }, movie.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"pagination\",\n                    children: [currentPage > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        const newPage = currentPage - 1;\n                        setCurrentPage(newPage);\n                        handleSearch(query, newPage);\n                      },\n                      children: \"Previous  \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 21\n                    }, this), currentPage < totalPages && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        const newPage = currentPage + 1;\n                        setCurrentPage(newPage);\n                        handleSearch(query, newPage);\n                      },\n                      children: \"Next  \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"saveButton\",\n              type: \"button\",\n              disabled: status === 'loading',\n              onClick: () => {\n                if (status === 'loading') {\n                  return;\n                }\n                const {\n                  title,\n                  overview,\n                  popularity,\n                  release_date,\n                  vote_average,\n                  is_featured\n                } = selectedMovie;\n                if (title && overview && popularity && release_date && vote_average && is_featured) {\n                  movieId !== undefined ? handleUpdate(movieId) : handleSave();\n                } else {\n                  //fields are incomplete\n                  setIsFieldsDirty(true);\n                  //focus if field is empty\n                  if (!title) {\n                    titleRef.current.focus();\n                  } else if (!overview) {\n                    overviewRef.current.focus();\n                  } else if (!popularity) {\n                    popularityRef.current.focus();\n                  } else if (!release_date) {\n                    release_dateRef.current.focus();\n                  } else if (!vote_average) {\n                    vote_averageRef.current.focus();\n                  } else if (!is_featured) {\n                    is_featuredRef.current.focus();\n                  }\n                }\n              },\n              children: status === 'idle' ? 'SAVE' : 'loading'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), movieId !== undefined && selectedMovie && /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tabs\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                navigate(`/main/movies/form/${movieId}`);\n                setSelectedTab('descriptionupdate');\n              },\n              className: selectedTab === 'descriptionupdate' ? 'active-tab' : '',\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                navigate(`/main/movies/form/${movieId}/cast-and-crews/${selectedMovie.id}`);\n                setSelectedTab('casts');\n              },\n              className: selectedTab === 'casts' ? 'active-tab' : '',\n              children: \"Casts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                navigate(`/main/movies/form/${movieId}/videos/${selectedMovie.id}`);\n                setSelectedTab('videos');\n              },\n              className: selectedTab === 'videos' ? 'active-tab' : '',\n              children: \"Videos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                navigate(`/main/movies/form/${movieId}/photos/${selectedMovie.id}`);\n                setSelectedTab('photos');\n              },\n              className: selectedTab === 'photos' ? 'active-tab' : '',\n              children: \"Photos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), outletContent ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col movie-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: selectedMovie ? selectedMovie.title : '',\n              required: true,\n              name: \"title\",\n              onChange: handleOnChange,\n              ref: titleRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), debounceState && isFieldsDirty && (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.title) === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errors\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field text-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Overview:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: 5,\n              value: selectedMovie ? selectedMovie.overview : '',\n              required: true,\n              name: \"overview\",\n              onChange: handleOnChange,\n              ref: overviewRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), debounceState && isFieldsDirty && (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.overview) === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errors\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 87\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Popularity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selectedMovie ? selectedMovie.popularity : '',\n              required: true,\n              name: \"popularity\",\n              onChange: handleOnChange,\n              ref: popularityRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), debounceState && isFieldsDirty && (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.popularity) === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errors\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 89\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Release date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: selectedMovie ? selectedMovie.release_date : '',\n              required: true,\n              name: \"release_date\",\n              onChange: handleOnChange,\n              ref: release_dateRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), debounceState && isFieldsDirty && (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.release_date) === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errors\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 91\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Vote average:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selectedMovie ? selectedMovie.vote_average : '',\n              required: true,\n              name: \"vote_average\",\n              onChange: handleOnChange,\n              ref: vote_averageRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), debounceState && isFieldsDirty && (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.vote_average) === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errors\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 91\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"is featured:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedMovie ? selectedMovie.is_featured : '',\n              required: true,\n              name: \"is_featured\",\n              onChange: handleOnChange,\n              ref: is_featuredRef,\n              className: \"custom-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                children: \"Yes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this), debounceState && isFieldsDirty && (selectedMovie === null || selectedMovie === void 0 ? void 0 : selectedMovie.is_featured) === '' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errors\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col poster-col\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"poster-image\",\n            src: selectedMovie !== null && selectedMovie !== void 0 && selectedMovie.poster_path ? `https://image.tmdb.org/t/p/original/${selectedMovie.poster_path}` : \"/movieposter.jpg\",\n            alt: `selectedMovie.original_title`,\n            ref: posterRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Form, \"T/D69dvhd8cYE7fwH9UbhyTJmOM=\", false, function () {\n  return [useParams, useDebounce, useNavigate, useOutlet];\n});\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["axios","useCallback","useContext","useEffect","useRef","useState","useNavigate","useParams","Outlet","useOutlet","AuthContext","useDebounce","jsxDEV","_jsxDEV","Fragment","_Fragment","Form","_s","auth","query","setQuery","searchedMovieList","setSearchedMovieList","selectedMovie","setSelectedMovie","titleRef","overviewRef","popularityRef","release_dateRef","vote_averageRef","posterRef","is_featuredRef","status","setStatus","movieId","userInputDebounce","debounceState","setDebounceState","isFieldsDirty","setIsFieldsDirty","handleOnChange","e","name","value","target","prevData","overlayVisible","setOverlayVisible","overlayRef","debounceTimer","currentPage","setCurrentPage","totalPages","setTotalPages","alertMessage","setAlertMessage","isError","setIsError","navigate","outletContent","debounce","func","delay","args","current","clearTimeout","setTimeout","handleSearch","page","trim","method","url","headers","Accept","Authorization","then","response","data","results","total_pages","length","console","log","catch","error","debouncedSearch","handleInputChange","event","handleSelectMovie","movie","handleClickOutside","contains","handleSave","alert","tmdbId","id","title","overview","popularity","releaseDate","release_date","voteAverage","vote_average","backdropPath","backdrop_path","posterPath","poster_path","isFeatured","is_featured","accessToken","saveResponse","message","handleUpdate","document","addEventListener","get","temp","tempData","removeEventListener","path","window","location","pathname","parts","split","tab","selectedTab","setSelectedTab","children","className","fileName","_jsxFileName","lineNumber","columnNumber","undefined","type","onChange","placeholder","onClick","ref","map","original_title","newPage","disabled","focus","required","rows","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Lester Salonga/Desktop/movieproject/admin-movieproject/src/pages/Main/Movie/Form/Form.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport { useCallback, useContext, useEffect, useRef, useState } from 'react';\r\nimport { useNavigate, useParams, Outlet, useOutlet } from 'react-router-dom'; // Add Outlet here\r\nimport { AuthContext } from '../../../../utils/context/AuthToken';\r\nimport './Form.css';\r\nimport { useDebounce } from '../../../../utils/hooks/useDebounce';\r\n\r\nconst Form = () => {\r\n  // User token and information\r\n  const { auth } = useContext(AuthContext);\r\n\r\n  const [query, setQuery] = useState('');\r\n  const [searchedMovieList, setSearchedMovieList] = useState([]);\r\n  const [selectedMovie, setSelectedMovie] = useState(null); // Fixed initialization to null\r\n\r\n  const titleRef = useRef();\r\n  const overviewRef = useRef();\r\n  const popularityRef = useRef();\r\n  const release_dateRef = useRef();\r\n  const vote_averageRef = useRef();\r\n  const posterRef = useRef();\r\n  const is_featuredRef = useRef();\r\n\r\n  const [status, setStatus] = useState('idle');\r\n//   const [movie,setMovie] = useState(undefined); // movie missing\r\n  let { movieId } = useParams();\r\n\r\n  const userInputDebounce = useDebounce({ selectedMovie }, 2000);\r\n  const [debounceState, setDebounceState] = useState(false);\r\n  const [isFieldsDirty, setIsFieldsDirty] = useState(false);\r\n\r\n  const handleOnChange = (e) => {\r\n    setDebounceState(false);\r\n    setIsFieldsDirty(true);\r\n    const { name, value } = e.target;\r\n\r\n    setSelectedMovie((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  // Debounce\r\n  useEffect(() => {\r\n    setDebounceState(true);\r\n  }, [userInputDebounce]);\r\n\r\n  const [overlayVisible, setOverlayVisible] = useState(false);\r\n  const overlayRef = useRef(null);\r\n\r\n  const debounceTimer = useRef(null);\r\n\r\n  // Pagination\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n\r\n  // Alert box\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const outletContent = useOutlet();\r\n\r\n\r\n  // Debounce function\r\n  const debounce = (func, delay) => {\r\n    return (...args) => {\r\n      if (debounceTimer.current) {\r\n        clearTimeout(debounceTimer.current);\r\n      }\r\n      debounceTimer.current = setTimeout(() => {\r\n        func(...args);\r\n      }, delay);\r\n    };\r\n  };\r\n\r\n  // Search for movie\r\n  const handleSearch = useCallback((value, page = 1) => {\r\n    if (value.trim() === '') {\r\n      setSearchedMovieList([]);\r\n      setOverlayVisible(false);\r\n      return;\r\n    }\r\n    axios({\r\n      method: 'get',\r\n      url: `https://api.themoviedb.org/3/search/movie?query=${value}&include_adult=false&language=en-US&page=${page}`,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmZjcwNmYyZDQwMDA0ZTUwYzhmOGUwZDg4MWNjMzMzMCIsIm5iZiI6MTczMjQ0MTE3NS41MTcwNjI3LCJzdWIiOiI2NzEzMzc3MjY1MDI0OGI5ZGI2MWQ3MzgiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.3YXaI8G0Zhq_JUCBQ2rd8F1R62ePiRNlV-Qom94OzgM', // Replace with your actual API key\r\n      },\r\n    }).then((response) => {\r\n      setSearchedMovieList(response.data.results);\r\n      setTotalPages(response.data.total_pages);\r\n      if (response.data.results.length > 0) {\r\n        setOverlayVisible(true);\r\n      } else {\r\n        setOverlayVisible(false);\r\n      }\r\n      console.log(response.data.results);\r\n    }).catch(error => {\r\n      console.error(\"Error fetching data: \", error);\r\n    });\r\n  }, []);\r\n\r\n  // Debounced search text\r\n  const debouncedSearch = useRef(debounce(handleSearch, 300)).current;\r\n\r\n  const handleInputChange = (event) => {\r\n    const value = event.target.value;\r\n    setQuery(value);\r\n    debouncedSearch(value);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Handle select movie\r\n  const handleSelectMovie = (movie) => {\r\n    setSelectedMovie(movie);\r\n    setOverlayVisible(false);\r\n  };\r\n\r\n  // Handle click outside of overlay\r\n  const handleClickOutside = (event) => {\r\n    if (overlayRef.current && !overlayRef.current.contains(event.target)) {\r\n      setOverlayVisible(false);\r\n    }\r\n  };\r\n\r\n  // Handle Save movie\r\n  const handleSave = () => {\r\n    setStatus('loading');\r\n    if (!selectedMovie) {\r\n      alert('Please search and select a movie.');\r\n    } else {\r\n      const data = {\r\n        tmdbId: selectedMovie.id,\r\n        title: selectedMovie.title,\r\n        overview: selectedMovie.overview,\r\n        popularity: selectedMovie.popularity,\r\n        releaseDate: selectedMovie.release_date,\r\n        voteAverage: selectedMovie.vote_average,\r\n        backdropPath: `https://image.tmdb.org/t/p/original/${selectedMovie.backdrop_path}`,\r\n        posterPath: `https://image.tmdb.org/t/p/original/${selectedMovie.poster_path}`,\r\n        isFeatured: selectedMovie.is_featured,\r\n      };\r\n\r\n      axios({\r\n        method: 'post',\r\n        url: '/movies',\r\n        data: data,\r\n        headers: {\r\n          Authorization: `Bearer ${auth.accessToken}`,\r\n        },\r\n      })\r\n        .then((saveResponse) => {\r\n        console.log(saveResponse);\r\n          setIsError(false);\r\n          setAlertMessage(saveResponse.data.message);\r\n          setTimeout(() => {\r\n            setAlertMessage('');\r\n            navigate('/main/movies');\r\n          }, 3000);\r\n        })\r\n        .catch((error) => {\r\n          setIsError(true);\r\n          setAlertMessage(\"An error has occurred! Please try again later!\");\r\n          setTimeout(() => {\r\n            setAlertMessage('');\r\n          }, 3000);\r\n        });\r\n    }\r\n  };\r\n\r\n  // Handle Update movie\r\n  const handleUpdate = (id) => {\r\n    setStatus('loading');\r\n    if (!selectedMovie) {\r\n      return;\r\n    } else {\r\n      const data = {\r\n        tmdbId: selectedMovie.id,\r\n        title: selectedMovie.title,\r\n        overview: selectedMovie.overview,\r\n        popularity: selectedMovie.popularity,\r\n        releaseDate: selectedMovie.release_date,\r\n        voteAverage: selectedMovie.vote_average,\r\n        backdropPath: `https://image.tmdb.org/t/p/original/${selectedMovie.backdrop_path}`,\r\n        posterPath: `https://image.tmdb.org/t/p/original/${selectedMovie.poster_path}`,\r\n        isFeatured: selectedMovie.is_featured,\r\n      };\r\n      axios({\r\n        method: 'patch',\r\n        url: `/movies/${id}`,\r\n        data: data,\r\n        headers: {\r\n          Authorization: `Bearer ${auth.accessToken}`,\r\n        },\r\n      })\r\n        .then((saveResponse) => {\r\n          setIsError(false);\r\n          setAlertMessage(saveResponse.data.message);\r\n          setTimeout(() => {\r\n            setAlertMessage('');\r\n            navigate('/main/movies');\r\n          }, 3000);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n\r\n    if (movieId) {\r\n      axios.get(`/movies/${movieId}`).then((response) => {\r\n        // setMovie(response.data);\r\n\r\n        let temp = 0;\r\n        if(response.data.isFeatured === true){\r\n          temp = 1\r\n        }\r\n\r\n        const tempData = {\r\n          id: response.data.tmdbId,\r\n          tmdbId: response.data.id,\r\n          title: response.data.title,\r\n          overview: response.data.overview,\r\n          popularity: response.data.popularity,\r\n          poster_path: response.data.posterPath,\r\n          release_date: response.data.releaseDate,\r\n          vote_average: response.data.voteAverage,\r\n          is_featured: temp,\r\n        };\r\n        setSelectedMovie(tempData);\r\n      }).catch(error => console.error(\"Error fetching movie data: \", error));\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [movieId]);\r\n\r\n  const path = window.location.pathname;\r\n  const parts = path.split('/');\r\n  const tab = parts[5] || 'descriptionupdate'\r\n  const [selectedTab, setSelectedTab] = useState('');\r\n\r\n  useEffect(()=>{\r\n    switch (tab) {\r\n      case 'cast-and-crews':\r\n        setSelectedTab('casts');\r\n        break;\r\n      case 'videos':\r\n        setSelectedTab('videos');\r\n        break;\r\n      case 'photos':\r\n        setSelectedTab('photos');\r\n        break;\r\n      default:\r\n        setSelectedTab('description'); //default tab\r\n    }\r\n  },[tab])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form-header\">\r\n        {alertMessage && (<div className={`alert-box ${isError ? 'error' : 'success'}`}>{alertMessage}</div>)}\r\n        <div className='tabs-container'>\r\n          <span>\r\n            <h2>{movieId ? 'Edit' : 'Create'} Movie</h2>\r\n            <div className='tabs-container-group'>\r\n              {movieId === undefined && (\r\n                <div className='search-container'>\r\n                  <input\r\n                    type='text'\r\n                    onChange={handleInputChange}\r\n                    placeholder='Search movie'\r\n                  />\r\n                  <span className='fas fa-search' type='button' onClick={() => handleSearch(query)}></span>\r\n                  <div className={`searched-movie ${overlayVisible ? 'show' : ''}`} ref={overlayRef}>\r\n                    <div className='container'>\r\n                      <div className=\"movie-list\">\r\n                        {searchedMovieList.map((movie) => (\r\n                          <p key={movie.id} onClick={() => handleSelectMovie(movie)}>\r\n                            {movie.original_title}\r\n                          </p>\r\n                        ))}\r\n                    </div>\r\n                                    <div className=\"pagination\">\r\n                {currentPage > 1 && (\r\n                    <button onClick={() => {\r\n                        const newPage = currentPage - 1;\r\n                        setCurrentPage(newPage);\r\n                        handleSearch(query, newPage);\r\n                    }}>\r\n                     Previous  {/* Left Arrow (Unicode) */}\r\n                    </button>\r\n                )}\r\n                {currentPage < totalPages && (\r\n                    <button onClick={() => {\r\n                        const newPage = currentPage + 1;\r\n                        setCurrentPage(newPage);\r\n                        handleSearch(query, newPage);\r\n                    }}>\r\n                    Next  {/* Right Arrow (Unicode) */}\r\n                    </button>\r\n                )}\r\n                </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <button\r\n                id='saveButton'\r\n                type='button'\r\n                disabled={status === 'loading'}\r\n                onClick={() => {\r\n                  if (status === 'loading') {\r\n                    return;\r\n                  }\r\n                  const { title, overview, popularity, release_date, vote_average, is_featured } = selectedMovie;\r\n                  if (title && overview && popularity && release_date && vote_average && is_featured) {\r\n                    movieId !== undefined ? handleUpdate(movieId) : handleSave();\r\n                  } else {\r\n                    //fields are incomplete\r\n                    setIsFieldsDirty(true);\r\n                    //focus if field is empty\r\n                    if (!title) {\r\n                      titleRef.current.focus();\r\n                    } else if (!overview) {\r\n                      overviewRef.current.focus();\r\n                    } else if (!popularity) {\r\n                      popularityRef.current.focus();\r\n                    } else if (!release_date) {\r\n                      release_dateRef.current.focus();\r\n                    } else if (!vote_average) {\r\n                      vote_averageRef.current.focus();\r\n                    } else if (!is_featured) {\r\n                      is_featuredRef.current.focus();\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                {status === 'idle' ? 'SAVE' : 'loading'}\r\n              </button>\r\n            </div>\r\n          </span>\r\n          {movieId !== undefined && selectedMovie && (\r\n            <nav>\r\n              <div className='tabs'>\r\n                <li\r\n                  onClick={() => {\r\n                    navigate(`/main/movies/form/${movieId}`);\r\n                    setSelectedTab('descriptionupdate');\r\n                  }}\r\n                  className={selectedTab === 'descriptionupdate' ? 'active-tab' : ''}\r\n                >\r\n                  Description\r\n                </li>\r\n                <li\r\n                  onClick={() => {\r\n                    navigate(`/main/movies/form/${movieId}/cast-and-crews/${selectedMovie.id}`);\r\n                    setSelectedTab('casts');\r\n                  }}\r\n                  className={selectedTab === 'casts' ? 'active-tab' : ''}\r\n                >\r\n                  Casts\r\n                </li>\r\n                <li\r\n                  onClick={() => {\r\n                    navigate(`/main/movies/form/${movieId}/videos/${selectedMovie.id}`);\r\n                    setSelectedTab('videos');\r\n                  }}\r\n                  className={selectedTab === 'videos' ? 'active-tab' : ''}\r\n                >\r\n                  Videos\r\n                </li>\r\n                <li\r\n                  onClick={() => {\r\n                    navigate(`/main/movies/form/${movieId}/photos/${selectedMovie.id}`);\r\n                    setSelectedTab('photos');\r\n                  }}\r\n                  className={selectedTab === 'photos' ? 'active-tab' : ''}\r\n                >\r\n                  Photos\r\n                </li>\r\n              </div>\r\n            </nav>\r\n            )}\r\n        </div>\r\n      </div>\r\n\r\n      {outletContent ? (\r\n        <Outlet />\r\n      ) : (\r\n        <div className='movie-container'>\r\n          <form>\r\n            <div className=\"col movie-details\">\r\n              <div className='field'>\r\n                <label>Title:</label>\r\n                <input\r\n                  type='text'\r\n                  value={selectedMovie ? selectedMovie.title : ''}\r\n                  required\r\n                  name='title'\r\n                  onChange={handleOnChange}\r\n                  ref={titleRef}\r\n                />\r\n                {debounceState && isFieldsDirty && selectedMovie?.title === '' && (<span className='errors'>This field is required</span>)}\r\n              </div>\r\n              <div className='field text-area'>\r\n                <label>Overview:</label>\r\n                <textarea\r\n                  rows={5}\r\n                  value={selectedMovie ? selectedMovie.overview : ''}\r\n                  required\r\n                  name='overview'\r\n                  onChange={handleOnChange}\r\n                  ref={overviewRef}\r\n                />\r\n                {debounceState && isFieldsDirty && selectedMovie?.overview === '' && (<span className='errors'>This field is required</span>)}\r\n              </div>\r\n              <div className='field'>\r\n                <label>Popularity:</label>\r\n                <input\r\n                  type='number'\r\n                  value={selectedMovie ? selectedMovie.popularity : ''}\r\n                  required\r\n                  name='popularity'\r\n                  onChange={handleOnChange}\r\n                  ref={popularityRef}\r\n                />\r\n                {debounceState && isFieldsDirty && selectedMovie?.popularity === '' && (<span className='errors'>This field is required</span>)}\r\n              </div>\r\n              <div className='field'>\r\n                <label>Release date:</label>\r\n                <input\r\n                  type='text'\r\n                  value={selectedMovie ? selectedMovie.release_date : ''}\r\n                  required\r\n                  name='release_date'\r\n                  onChange={handleOnChange}\r\n                  ref={release_dateRef}\r\n                />\r\n                {debounceState && isFieldsDirty && selectedMovie?.release_date === '' && (<span className='errors'>This field is required</span>)}\r\n              </div>\r\n              <div className='field'>\r\n                <label>Vote average:</label>\r\n                <input\r\n                  type='number'\r\n                  value={selectedMovie ? selectedMovie.vote_average : ''}\r\n                  required\r\n                  name='vote_average'\r\n                  onChange={handleOnChange}\r\n                  ref={vote_averageRef}\r\n                />\r\n                {debounceState && isFieldsDirty && selectedMovie?.vote_average === '' && (<span className='errors'>This field is required</span>)}\r\n              </div>\r\n              <div className='field'>\r\n                <label>is featured:</label>\r\n                <select\r\n                  value={selectedMovie ? selectedMovie.is_featured : ''}\r\n                  required\r\n                  name='is_featured'\r\n                  onChange={handleOnChange}\r\n                  ref={is_featuredRef}\r\n                  className='custom-select'\r\n                >\r\n                  <option value={1}>Yes</option>\r\n                  <option value={0}>No</option>\r\n                </select>\r\n                {debounceState && isFieldsDirty && selectedMovie?.is_featured === '' && (\r\n                  <span className='errors'>This field is required</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col poster-col\">\r\n              <img\r\n                className='poster-image'\r\n                src={selectedMovie?.poster_path \r\n                    ? `https://image.tmdb.org/t/p/original/${selectedMovie.poster_path}` \r\n                    : \"/movieposter.jpg\"}alt={`selectedMovie.original_title`}\r\n                ref={posterRef}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}