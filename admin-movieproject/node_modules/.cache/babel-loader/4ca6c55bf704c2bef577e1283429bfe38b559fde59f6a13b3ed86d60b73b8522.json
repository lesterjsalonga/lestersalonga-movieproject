{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lester Salonga\\\\Desktop\\\\movieproject\\\\admin-movieproject\\\\src\\\\pages\\\\Main\\\\Movie\\\\Cast\\\\Cast.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState, useCallback, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './Cast.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cast = () => {\n  _s();\n  const [query, setQuery] = useState(''); // Search query for TMDB\n  const [searchedPersonList, setSearchedPersonList] = useState([]); // TMDB results\n  const [selectedPerson, setSelectedPerson] = useState(undefined); // Selected person from search\n  const [addedCast, setAddedCast] = useState([]); // Cast to save to the backend\n  const [error, setError] = useState(null); // Error state for UI\n  const {\n    movieId\n  } = useParams(); // Get `movieId` from URL\n  const accessToken = localStorage.getItem('accessToken'); // Assuming accessToken is stored in localStorage\n\n  const TMDB_AUTHORIZATION_TOKEN = `Bearer ${accessToken}`;\n\n  // TMDB API base URL\n  const TMDB_BASE_URL = 'https://api.themoviedb.org/3';\n\n  // Backend API URL for saving cast\n  const BACKEND_API_URL = 'http://localhost/movieproject-api/admin/casts';\n\n  // Fetch search results from TMDB API\n  const handleSearch = useCallback(() => {\n    if (!query.trim()) {\n      alert('Please enter a cast name to search.');\n      return;\n    }\n    axios.get(`${TMDB_BASE_URL}/search/person?query=${query}&include_adult=false&language=en-US&page=1`, {\n      headers: {\n        Authorization: TMDB_AUTHORIZATION_TOKEN\n      }\n    }).then(response => {\n      setSearchedPersonList(response.data.results || []);\n    }).catch(error => {\n      console.error('Error fetching TMDB data:', error);\n      setError('Failed to fetch cast data. Please try again.');\n    });\n  }, [query]);\n\n  // Select a person from the search results\n  const handleSelectPerson = person => {\n    setSelectedPerson(person);\n  };\n\n  // Add selected person to the cast list\n  const handleAddCast = () => {\n    if (!selectedPerson) {\n      alert('Please select a person to add as cast.');\n      return;\n    }\n\n    // Check for duplicates\n    const alreadyAdded = addedCast.some(cast => cast.id === selectedPerson.id);\n    if (alreadyAdded) {\n      alert('This person is already added to the cast.');\n      return;\n    }\n    setAddedCast(prevCast => [...prevCast, {\n      id: selectedPerson.id,\n      name: selectedPerson.name,\n      url: selectedPerson.profile_path ? `https://image.tmdb.org/t/p/original${selectedPerson.profile_path}` : '',\n      characterName: '',\n      // Optional, can be updated later\n      dateCreated: new Date().toISOString(),\n      dateUpdated: new Date().toISOString()\n    }]);\n    setSelectedPerson(undefined); // Clear selected person\n  };\n\n  // Save the cast list to the backend (Create Cast)\n  const handleSaveCast = async () => {\n    if (addedCast.length === 0) {\n      alert('No cast members added.');\n      return;\n    }\n    try {\n      // Loop through each added cast member and save to the backend\n      for (const cast of addedCast) {\n        const response = await axios.post(BACKEND_API_URL, {\n          userId: 1,\n          // Assuming the user ID is 1 for this example\n          movieId: movieId,\n          name: cast.name,\n          characterName: cast.characterName,\n          url: cast.url\n        }, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n            'Content-Type': 'application/json'\n          }\n        });\n\n        // Optional: Handle the response from the server if needed\n        console.log('Cast saved successfully:', response.data);\n      }\n      alert('Cast successfully saved to the database!');\n      setAddedCast([]); // Clear the added cast after saving\n    } catch (error) {\n      var _error$response;\n      console.error('Error saving cast:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert('Failed to save cast. Please try again.');\n    }\n  };\n\n  // Fetch existing cast for the movie (GET by ID)\n  const fetchExistingCast = async () => {\n    try {\n      const response = await axios.get(`http://localhost/movieproject-api/casts/${movieId}`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      setAddedCast(response.data || []);\n    } catch (error) {\n      console.error('Error fetching existing cast:', error);\n      setError('Failed to fetch existing cast data.');\n    }\n  };\n\n  // Delete a cast member (DELETE by ID)\n  const handleDeleteCast = async castId => {\n    try {\n      await axios.delete(`http://localhost/movieproject-api/admin/casts/${castId}`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      setAddedCast(prevCast => prevCast.filter(cast => cast.id !== castId));\n      alert('Cast member deleted successfully!');\n    } catch (error) {\n      console.error('Error deleting cast:', error);\n      alert('Failed to delete cast member.');\n    }\n  };\n\n  // Load existing cast when component mounts\n  useEffect(() => {\n    fetchExistingCast();\n  }, [movieId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cast-and-crew-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Cast & Crew Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Search Person:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: query,\n        onChange: event => setQuery(event.target.value),\n        placeholder: \"Enter cast name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), searchedPersonList.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Search Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: searchedPersonList.map(person => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => handleSelectPerson(person),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://image.tmdb.org/t/p/w200${person.profile_path}`,\n            alt: person.name,\n            width: 50\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), person.name]\n        }, person.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this), selectedPerson && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selected-person\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Selected Person:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://image.tmdb.org/t/p/original/${selectedPerson.profile_path}`,\n        alt: selectedPerson.name,\n        width: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: selectedPerson.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleAddCast,\n        children: \"Add to Cast\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"added-cast\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Added Cast Members:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: addedCast.map(cast => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: cast.url,\n            alt: cast.name,\n            width: 50\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), cast.name, \" (\", cast.characterName || 'No character name', \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteCast(cast.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, cast.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), addedCast.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleSaveCast,\n      children: \"Save Cast\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(Cast, \"NeX8KJuSxmreyOG4YnLhDwCpLbU=\", false, function () {\n  return [useParams];\n});\n_c = Cast;\nexport default Cast;\nvar _c;\n$RefreshReg$(_c, \"Cast\");","map":{"version":3,"names":["axios","useState","useCallback","useEffect","useParams","jsxDEV","_jsxDEV","Cast","_s","query","setQuery","searchedPersonList","setSearchedPersonList","selectedPerson","setSelectedPerson","undefined","addedCast","setAddedCast","error","setError","movieId","accessToken","localStorage","getItem","TMDB_AUTHORIZATION_TOKEN","TMDB_BASE_URL","BACKEND_API_URL","handleSearch","trim","alert","get","headers","Authorization","then","response","data","results","catch","console","handleSelectPerson","person","handleAddCast","alreadyAdded","some","cast","id","prevCast","name","url","profile_path","characterName","dateCreated","Date","toISOString","dateUpdated","handleSaveCast","length","post","userId","log","_error$response","message","fetchExistingCast","handleDeleteCast","castId","delete","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","event","target","placeholder","onClick","map","src","alt","width","_c","$RefreshReg$"],"sources":["C:/Users/Lester Salonga/Desktop/movieproject/admin-movieproject/src/pages/Main/Movie/Cast/Cast.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport './Cast.css';\r\n\r\nconst Cast = () => {\r\n  const [query, setQuery] = useState(''); // Search query for TMDB\r\n  const [searchedPersonList, setSearchedPersonList] = useState([]); // TMDB results\r\n  const [selectedPerson, setSelectedPerson] = useState(undefined); // Selected person from search\r\n  const [addedCast, setAddedCast] = useState([]); // Cast to save to the backend\r\n  const [error, setError] = useState(null); // Error state for UI\r\n  const { movieId } = useParams(); // Get `movieId` from URL\r\n  const accessToken = localStorage.getItem('accessToken'); // Assuming accessToken is stored in localStorage\r\n\r\n  const TMDB_AUTHORIZATION_TOKEN = `Bearer ${accessToken}`;\r\n\r\n  // TMDB API base URL\r\n  const TMDB_BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\n  // Backend API URL for saving cast\r\n  const BACKEND_API_URL = 'http://localhost/movieproject-api/admin/casts';\r\n\r\n  // Fetch search results from TMDB API\r\n  const handleSearch = useCallback(() => {\r\n    if (!query.trim()) {\r\n      alert('Please enter a cast name to search.');\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .get(`${TMDB_BASE_URL}/search/person?query=${query}&include_adult=false&language=en-US&page=1`, {\r\n        headers: {\r\n          Authorization: TMDB_AUTHORIZATION_TOKEN,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setSearchedPersonList(response.data.results || []);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching TMDB data:', error);\r\n        setError('Failed to fetch cast data. Please try again.');\r\n      });\r\n  }, [query]);\r\n\r\n  // Select a person from the search results\r\n  const handleSelectPerson = (person) => {\r\n    setSelectedPerson(person);\r\n  };\r\n\r\n  // Add selected person to the cast list\r\n  const handleAddCast = () => {\r\n    if (!selectedPerson) {\r\n      alert('Please select a person to add as cast.');\r\n      return;\r\n    }\r\n\r\n    // Check for duplicates\r\n    const alreadyAdded = addedCast.some((cast) => cast.id === selectedPerson.id);\r\n    if (alreadyAdded) {\r\n      alert('This person is already added to the cast.');\r\n      return;\r\n    }\r\n\r\n    setAddedCast((prevCast) => [\r\n      ...prevCast,\r\n      {\r\n        id: selectedPerson.id,\r\n        name: selectedPerson.name,\r\n        url: selectedPerson.profile_path\r\n          ? `https://image.tmdb.org/t/p/original${selectedPerson.profile_path}`\r\n          : '',\r\n        characterName: '', // Optional, can be updated later\r\n        dateCreated: new Date().toISOString(),\r\n        dateUpdated: new Date().toISOString(),\r\n      },\r\n    ]);\r\n    setSelectedPerson(undefined); // Clear selected person\r\n  };\r\n\r\n  // Save the cast list to the backend (Create Cast)\r\n  const handleSaveCast = async () => {\r\n    if (addedCast.length === 0) {\r\n      alert('No cast members added.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Loop through each added cast member and save to the backend\r\n      for (const cast of addedCast) {\r\n        const response = await axios.post(\r\n          BACKEND_API_URL,\r\n          {\r\n            userId: 1, // Assuming the user ID is 1 for this example\r\n            movieId: movieId,\r\n            name: cast.name,\r\n            characterName: cast.characterName,\r\n            url: cast.url,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${accessToken}`,\r\n              'Content-Type': 'application/json',\r\n            },\r\n          }\r\n        );\r\n\r\n        // Optional: Handle the response from the server if needed\r\n        console.log('Cast saved successfully:', response.data);\r\n      }\r\n\r\n      alert('Cast successfully saved to the database!');\r\n      setAddedCast([]); // Clear the added cast after saving\r\n    } catch (error) {\r\n      console.error('Error saving cast:', error.response?.data || error.message);\r\n      alert('Failed to save cast. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Fetch existing cast for the movie (GET by ID)\r\n  const fetchExistingCast = async () => {\r\n    try {\r\n      const response = await axios.get(`http://localhost/movieproject-api/casts/${movieId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${accessToken}`,\r\n        },\r\n      });\r\n      setAddedCast(response.data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching existing cast:', error);\r\n      setError('Failed to fetch existing cast data.');\r\n    }\r\n  };\r\n\r\n  // Delete a cast member (DELETE by ID)\r\n  const handleDeleteCast = async (castId) => {\r\n    try {\r\n      await axios.delete(`http://localhost/movieproject-api/admin/casts/${castId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${accessToken}`,\r\n        },\r\n      });\r\n      setAddedCast((prevCast) => prevCast.filter((cast) => cast.id !== castId));\r\n      alert('Cast member deleted successfully!');\r\n    } catch (error) {\r\n      console.error('Error deleting cast:', error);\r\n      alert('Failed to delete cast member.');\r\n    }\r\n  };\r\n\r\n  // Load existing cast when component mounts\r\n  useEffect(() => {\r\n    fetchExistingCast();\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <div className=\"cast-and-crew-container\">\r\n      <h1>Cast & Crew Management</h1>\r\n\r\n      {/* Search Section */}\r\n      <div className=\"search-container\">\r\n        <label>Search Person:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(event) => setQuery(event.target.value)}\r\n          placeholder=\"Enter cast name\"\r\n        />\r\n        <button type=\"button\" onClick={handleSearch}>\r\n          Search\r\n        </button>\r\n      </div>\r\n\r\n      {/* Display TMDB Search Results */}\r\n      {searchedPersonList.length > 0 && (\r\n        <div className=\"search-results\">\r\n          <h3>Search Results:</h3>\r\n          <ul>\r\n            {searchedPersonList.map((person) => (\r\n              <li key={person.id} onClick={() => handleSelectPerson(person)}>\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w200${person.profile_path}`}\r\n                  alt={person.name}\r\n                  width={50}\r\n                />\r\n                {person.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* Display Selected Person */}\r\n      {selectedPerson && (\r\n        <div className=\"selected-person\">\r\n          <h3>Selected Person:</h3>\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/original/${selectedPerson.profile_path}`}\r\n            alt={selectedPerson.name}\r\n            width={100}\r\n          />\r\n          <p>{selectedPerson.name}</p>\r\n          <button type=\"button\" onClick={handleAddCast}>\r\n            Add to Cast\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Display Added Cast Members */}\r\n      <div className=\"added-cast\">\r\n        <h3>Added Cast Members:</h3>\r\n        <ul>\r\n          {addedCast.map((cast) => (\r\n            <li key={cast.id}>\r\n              <img src={cast.url} alt={cast.name} width={50} />\r\n              {cast.name} ({cast.characterName || 'No character name'})\r\n              <button onClick={() => handleDeleteCast(cast.id)}>Delete</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Save Cast to Backend */}\r\n      {addedCast.length > 0 && (\r\n        <button type=\"button\" onClick={handleSaveCast}>\r\n          Save Cast\r\n        </button>\r\n      )}\r\n\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cast;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}